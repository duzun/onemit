/*
 MIT
   @version 1.0.0
   @repo    https://github.com/duzun/onemit
*/
(function(l,n,p){var q=Object.prototype.hasOwnProperty,h=[].slice,r=[].splice;("function"===typeof define&&define.amd?define:typeof module!=p+""&&module.exports?function(a,f){module.exports=f()}:function(a,f){n[l]=f()})([],function(){function a(d){if(d){var c=a.prototype,b;for(b in c)q.call(c,b)&&(d[b]=c[b]);return d}}function f(d){var c=this._callbacks||(this._callbacks={});return c[d]||(c[d]=[])}a.prototype.on=function(d,c){f.call(this,d).push(c);return this};a.prototype.only=function(d,c){var b=
f.call(this,d);0>b.indexOf(c)&&b.push(c);return this};a.prototype.once=function(d,c){function b(){this.off(d,b);c.apply(this,arguments)}b.fn=c;return this.on(d,b)};a.prototype.off=function(d,c){var b=this._callbacks;if(!b)return this;if(0==arguments.length)return b&&(this._callbacks={}),this;var a=b[d];if(!a)return this;if(1==arguments.length)return delete b[d],this;for(var e=a.length;e--;)b=a[e],b!==c&&b.fn!==c||r.call(a,e,1);return this};a.prototype.emit=function(d,c,b){var a,e;if(!(a=this._callbacks)||
!(e=a[d])||!e.length)return this;e=h.call(e,0);a=h.call(arguments,0);for(var f=e.length,g=0;g<f;++g)e[g].apply(this,a);return this};a.prototype.emitAfter=function(a,c,b,f){var e=this,k,g;if(!(k=e._callbacks)||!(g=k[a])||!g.length)return e;var l=h.call(arguments,0);k=g.length;for(var m=0;m<k;++m)setTimeout(function(a){return function(){a.apply(e,h.call(l,0))}}(g[m]),c);return e};a.prototype.listeners=f;a.prototype.hasListeners=function(a){return!!f.call(this,a).length};return a})})("OnEmit","undefined"==
typeof global?this:global);