/*
 MIT
   @version 1.2.2
   @repo    https://github.com/duzun/onemit
*/
(function(p,q,r){var n=Object.prototype.hasOwnProperty,k=[].slice,t=[].splice,m=Function.prototype.bind,u=setTimeout;("function"===typeof define&&define.amd?define:typeof module!=r+""&&module.exports?function(a,h){module.exports=h()}:function(a,h){q[p]=h()})([],function(){function a(d){if(d){var c=a.prototype,b;for(b in c)n.call(c,b)&&(d[b]=c[b]);return d}}function h(d){var c=this._callbacks||(this._callbacks={});return c[d]||(c[d]=[])}a.prototype.on=function(d,c){h.call(this,d).push(c);return this};
a.prototype.only=function(d,c){var b=h.call(this,d);0>b.indexOf(c)&&b.push(c);return this};a.prototype.once=function(d,c){function b(){this.off(d,b);c.apply(this,arguments)}b.fn=c;return this.on(d,b)};a.prototype.off=function(d,c){var b=this._callbacks;if(!b)return this;if(0==arguments.length)return b&&(this._callbacks={}),this;var a=b[d];if(!a)return this;if(1==arguments.length)return delete b[d],this;for(var e=a.length;e--;)b=a[e],b!==c&&b.fn!==c||t.call(a,e,1);return this};a.prototype.emit=function(d,
c,b){var a,e;if(!(a=this._callbacks))return this;e=a[d];a=a["*"];if(e&&e.length)e=a&&a.length?e.concat(a):k.call(e,0);else if(a&&a.length)e=k.call(a,0);else return this;a=k.call(arguments,0);for(var f=e.length,g=0;g<f;++g)e[g].apply(this,a);return this};a.prototype.emitAfter=function(d,c,b,h){var e=this,f,g,m=a.setTimeout||u;if(!(f=e._callbacks))return e;g=f[c];f=f["*"];if(g&&g.length)g=f&&f.length?g.concat(f):g;else if(f&&f.length)g=f;else return e;f=g.length;var l=+("number"==typeof d),n=k.call(arguments,
l);for(l?l=0:d=0;l<f;++l)m(function(a){return function(){a.apply(e,k.call(n,0))}}(g[l]),d);return e};a.prototype.bind=function(d){var c=a.prototype,b;for(b in c)n.call(c,b)&&"function"==typeof c[b]&&(d[b]=m.call(c[b],this));return d};a.prototype.listeners=h;a.prototype.hasListeners=function(a){return!!h.call(this,a).length};return a});"function"!=typeof m&&(m=function(a){var h=k.call(arguments,1),d=this,c=function(){},b=function(){return d.apply(this instanceof c&&a?this:a,h.concat(k.call(arguments)))};
c.prototype=d.prototype;b.prototype=new c;return b})})("OnEmit","undefined"==typeof global?this:global);