/*
 MIT
   @version 1.2.1
   @repo    https://github.com/duzun/onemit
*/
(function(q,n,r){var p=Object.prototype.hasOwnProperty,l=[].slice,s=[].splice,m=Function.prototype.bind,t=n.setTimeout;("function"===typeof define&&define.amd?define:typeof module!=r+""&&module.exports?function(d,f){module.exports=f()}:function(d,f){n[q]=f()})([],function(){function d(a){if(a){var c=d.prototype,b;for(b in c)p.call(c,b)&&(a[b]=c[b]);return a}}function f(a){var c=this._callbacks||(this._callbacks={});return c[a]||(c[a]=[])}d.prototype.on=function(a,c){f.call(this,a).push(c);return this};
d.prototype.only=function(a,c){var b=f.call(this,a);0>b.indexOf(c)&&b.push(c);return this};d.prototype.once=function(a,c){function b(){this.off(a,b);c.apply(this,arguments)}b.fn=c;return this.on(a,b)};d.prototype.off=function(a,c){var b=this._callbacks;if(!b)return this;if(0==arguments.length)return b&&(this._callbacks={}),this;var g=b[a];if(!g)return this;if(1==arguments.length)return delete b[a],this;for(var e=g.length;e--;)b=g[e],b!==c&&b.fn!==c||s.call(g,e,1);return this};d.prototype.emit=function(a,
c,b){var g,e;if(!(g=this._callbacks))return this;e=g[a];g=g["*"];if(e&&e.length)e=g&&g.length?e.concat(g):l.call(e,0);else if(g&&g.length)e=l.call(g,0);else return this;g=l.call(arguments,0);for(var d=e.length,h=0;h<d;++h)e[h].apply(this,g);return this};d.prototype.emitAfter=function(a,c,b,d){var e=this,k,h;if(!(k=e._callbacks))return e;h=k[c];k=k["*"];if(h&&h.length)h=k&&k.length?h.concat(k):h;else if(k&&k.length)h=k;else return e;k=h.length;var f=+("number"==typeof a),m=l.call(arguments,f);for(f?
f=0:a=0;f<k;++f)t(function(a){return function(){a.apply(e,l.call(m,0))}}(h[f]),a);return e};d.prototype.bind=function(a){var c=d.prototype,b;for(b in c)p.call(c,b)&&"function"==typeof c[b]&&(a[b]=m.call(c[b],this));return a};d.prototype.listeners=f;d.prototype.hasListeners=function(a){return!!f.call(this,a).length};return d});"function"!=typeof m&&(m=function(d){var f=l.call(arguments,1),a=this,c=function(){},b=function(){return a.apply(this instanceof c&&d?this:d,f.concat(l.call(arguments)))};c.prototype=
a.prototype;b.prototype=new c;return b})})("OnEmit","undefined"==typeof global?this:global);
