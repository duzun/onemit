/*
 MIT
   @version 1.1.0
   @repo    https://github.com/duzun/onemit
*/
(function(n,p,q){var m=Object.prototype.hasOwnProperty,h=[].slice,r=[].splice,l=Function.prototype.bind;("function"===typeof define&&define.amd?define:typeof module!=q+""&&module.exports?function(d,e){module.exports=e()}:function(d,e){p[n]=e()})([],function(){function d(a){if(a){var c=d.prototype,b;for(b in c)m.call(c,b)&&(a[b]=c[b]);return a}}function e(a){var c=this._callbacks||(this._callbacks={});return c[a]||(c[a]=[])}d.prototype.on=function(a,c){e.call(this,a).push(c);return this};d.prototype.only=
function(a,c){var b=e.call(this,a);0>b.indexOf(c)&&b.push(c);return this};d.prototype.once=function(a,c){function b(){this.off(a,b);c.apply(this,arguments)}b.fn=c;return this.on(a,b)};d.prototype.off=function(a,c){var b=this._callbacks;if(!b)return this;if(0==arguments.length)return b&&(this._callbacks={}),this;var d=b[a];if(!d)return this;if(1==arguments.length)return delete b[a],this;for(var f=d.length;f--;)b=d[f],b!==c&&b.fn!==c||r.call(d,f,1);return this};d.prototype.emit=function(a,c,b){var d,
f;if(!(d=this._callbacks)||!(f=d[a])||!f.length)return this;f=h.call(f,0);d=h.call(arguments,0);for(var e=f.length,g=0;g<e;++g)f[g].apply(this,d);return this};d.prototype.emitAfter=function(a,c,b,d){var f=this,e,g;if(!(e=f._callbacks)||!(g=e[c])||!g.length)return f;e=g.length;var k=+("number"==typeof a),l=h.call(arguments,k);for(k?k=0:a=0;k<e;++k)setTimeout(function(a){return function(){a.apply(f,h.call(l,0))}}(g[k]),a);return f};d.prototype.bind=function(a){var c=d.prototype,b;for(b in c)m.call(c,
b)&&"function"==typeof c[b]&&(a[b]=l.call(c[b],this));return a};d.prototype.listeners=e;d.prototype.hasListeners=function(a){return!!e.call(this,a).length};return d});"function"!=typeof l&&(l=function(d){var e=h.call(arguments,1),a=this,c=function(){},b=function(){return a.apply(this instanceof c&&d?this:d,e.concat(h.call(arguments)))};c.prototype=a.prototype;b.prototype=new c;return b})})("OnEmit","undefined"==typeof global?this:global);